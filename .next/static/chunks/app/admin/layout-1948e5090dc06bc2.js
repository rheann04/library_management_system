(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{5895:(e,s,r)=>{Promise.resolve().then(r.bind(r,9505))},9505:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var t=r(5155),n=r(2115),i=r(5695),a=r(6874),o=r.n(a);function l(e){let{isOpen:s,onClose:r}=e,n=(0,i.useRouter)();return s?(0,t.jsxs)("div",{className:"absolute right-4 top-16 w-80 bg-white rounded-lg shadow-lg z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold",children:"A"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold",children:"Admin User"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"admin@library.com"})]})]})}),(0,t.jsx)("div",{className:"py-2",children:(0,t.jsxs)("button",{onClick:()=>{n.push("/Login/Admin_Login")},className:"w-full px-4 py-3 flex items-center space-x-3 hover:bg-gray-100 transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),(0,t.jsx)("span",{className:"text-gray-700",children:"Log Out"})]})}),(0,t.jsxs)("div",{className:"p-4 text-xs text-gray-500 border-t",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-x-2"}),(0,t.jsx)("div",{className:"mt-2",children:"BookWise \xa9 2024"})]})]}):null}function c(e){let{children:s}=e,[r,i]=(0,n.useState)(!1),[a,c]=(0,n.useState)(!1);return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-100 relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 z-0",style:{backgroundImage:'url("/Library.jpg")',backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",opacity:"0.5"}}),(0,t.jsx)("div",{className:"bg-[#1A237E] text-white w-64 min-h-screen relative z-10 ".concat(r?"":"hidden"),children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"BookWise"}),(0,t.jsxs)("nav",{children:[(0,t.jsxs)(o(),{href:"/admin/dashboard",className:"flex items-center p-3 mb-3 hover:bg-blue-800 rounded-lg",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard"]}),(0,t.jsxs)(o(),{href:"/admin/books",className:"flex items-center p-3 mb-3 hover:bg-blue-800 rounded-lg",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Books"]}),(0,t.jsxs)(o(),{href:"/admin/students",className:"flex items-center p-3 mb-3 hover:bg-blue-800 rounded-lg",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Students"]})]})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-x-hidden overflow-y-auto relative z-10",children:[(0,t.jsx)("header",{className:"bg-[#1A237E] shadow-md",children:(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,t.jsx)("button",{onClick:()=>i(!r),className:"text-white hover:text-gray-200",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>c(!a),className:"flex items-center space-x-3 text-white hover:bg-blue-800 px-3 py-2 rounded-md",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-semibold",children:"A"}),(0,t.jsx)("span",{children:"Admin"}),(0,t.jsx)("svg",{className:"w-5 h-5 transition-transform ".concat(a?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(0,t.jsx)(l,{isOpen:a,onClose:()=>c(!1)})]})]})}),(0,t.jsx)("main",{className:"p-6",children:s}),(0,t.jsx)("div",{className:"p-4 text-center text-black-600 text-sm opacity-100 relative z-20 bg-transparent",children:"\xa9 2025 BSIT 2-4"})]})]})}var d=r(9509);function h(e){let{children:s}=e,r=(0,i.useRouter)();return(0,n.useEffect)(()=>{let e=localStorage.getItem("token");if(!e)return void r.push("/Login/Admin_Login");(async()=>{try{let s=await fetch("".concat(d.env.NEXT_PUBLIC_API_URL,"/api/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}}),t=await s.json();s.ok&&"admin"===t.role||(localStorage.removeItem("token"),r.push("/Login/Admin_Login"))}catch(e){console.error("Error verifying admin status:",e),localStorage.removeItem("token"),r.push("/Login/Admin_Login")}})()},[r]),(0,t.jsx)(c,{children:s})}}},e=>{var s=s=>e(e.s=s);e.O(0,[244,441,684,358],()=>s(5895)),_N_E=e.O()}]);